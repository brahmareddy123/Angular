<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>caallback</title>
</head>
<body>
    <h1>Hello Call Backs</h1>
    <script>
        // console.log("statement1");
        // console.log("statement2");
        // console.log("statement3");



        // function firstFun(){
        //     console.log("statement 1");
        //     funTwo();
        //     return;
        // }
        // function funTwo(){
        //     console.log("statement 2");
        //     return;
            
        // }
        // firstFun();





        // console.log("statement 3");
        // setTimeout(function () { 
        //     console.log("statement 4");
            
        //  },2);

        //  console.log("statement 5");

        


        // clallback hell example code
        

        fs.readdir(source, function (err, files) {
    if (err) {
        console.log('Error finding files: ' + err);
    } else {
        files.forEach(function (filename, fileIndex) {
            console.log(filename);
            gm(source + filename).size(function (err, values) {
                if (err) {
                    console.log('Error identifying file size: ' + err);
                } else {
                    console.log(filename + ' : ' + values);
                    aspect = (values.width / values.height);
                    widths.forEach(function (width, widthIndex) {
                    height = Math.round(width / aspect);
                    console.log('resizing ' + filename + 'to ' + height + 'x' + height);
                    this.resize(width, height).write(dest + 'w' + width + '_' + filename, function(err) {
                        if (err) console.log('Error writing file: ' + err);
                    })
                    }.bind(this));
                }
            });
        });
    }
})
        
    </script>
</body>
</html>